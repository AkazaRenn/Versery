<?xml version="1.0" encoding="utf-8"?>
<winex:WindowEx
    x:Class="View.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:View"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:winex="using:WinUIEx"
    mc:Ignorable="d"
    Title="MainWindow">

    <winex:WindowEx.SystemBackdrop>
        <MicaBackdrop/>
    </winex:WindowEx.SystemBackdrop>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <NavigationView
                x:Name="MainNavigation"
                Grid.Column="0"
                PaneDisplayMode="Top"
                IsBackButtonVisible="Visible"
                IsSettingsVisible="False"
                SelectionChanged="MainNavigation_SelectionChanged"
                BackRequested="MainNavigation_BackRequested">
            <NavigationView.MenuItems>
                <NavigationViewItem
                        x:Name="navigationViewItem_SamplePage1"
                        x:Uid="MenuItem1"/>
                <NavigationViewItem
                        x:Name="navigationViewItem_Login"
                        Content="Notifications"/>
                <NavigationViewItem
                        Icon="Refresh"
                        Tag="SamplePage3"/>
                <NavigationViewItem
                        Icon="Download"
                        Tag="SamplePage4"/>
            </NavigationView.MenuItems>
            <NavigationView.FooterMenuItems>
                <NavigationViewItem IsEnabled="False" Width="{x:Bind MainNavigation_RightPadding}"/>
            </NavigationView.FooterMenuItems>
        </NavigationView>
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="{x:Bind TitleBarRightInset}"/>
            </Grid.ColumnDefinitions>
            <Button
                x:Name="ProfileButton"
                Grid.Column="1"
                Width="32"
                Height="32"
                Padding="0"
                HorizontalContentAlignment="Center"
                VerticalContentAlignment="Center"
                CornerRadius="16">
                <Button.Flyout>
                    <MenuFlyout Placement="Bottom">
                        <MenuFlyoutItem Text="Manage account">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE77B;"/>
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutSeparator/>
                        <MenuFlyoutItem Text="Settings">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE713;"/>
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                    </MenuFlyout>
                </Button.Flyout>
            </Button>
        </Grid>
        <Frame x:Name="ContentFrame"
               Grid.Row="1"
               Navigated="ContentFrame_Navigated"/>
    </Grid>
</winex:WindowEx>
